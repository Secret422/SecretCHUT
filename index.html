<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>■ TIM ALEXI // INTERFACE SÉCURISÉE V5 ■</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* ------------------
         * STYLES GLOBAUX & COULEURS (THÈME AQUATIQUE)
         * ------------------ */
        :root {
            --bg-dark: #021226;      /* Bleu nuit profond */
            --main-water: #00FFFF;    /* Cyan/Turquoise Lumineux */
            --accent-sea: #00FF8C;    /* Vert d'eau/Émeraude */
            --border-color: #00FFFF44; 
            --active-shadow: 0 0 15px var(--main-water);
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-dark);
            color: var(--main-water);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; 
        }

        /* Optimisation mobile: Marge pour petit écran */
        @media (max-width: 600px) {
            .cypher-terminal {
                padding: 15px;
                width: 95%;
            }
            h1 {
                font-size: 1.2em;
            }
            textarea, .action-button, .copy-button { 
                font-size: 0.9em;
            }
        }

        /* Effet de fond : Ondulation aquatique subtile */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, 
                #00FFFF05 1%, 
                #021226FF 80%
            );
            opacity: 0.5; 
            animation: waterRipple 20s ease-in-out infinite alternate;
            z-index: -1;
        }

        @keyframes waterRipple {
            0% { transform: scale(1.0); opacity: 0.5; }
            100% { transform: scale(1.1); opacity: 0.6; }
        }

        /* ------------------
         * EFFET DE BULLES QUI TOMBENT (Correction de l'animation)
         * ------------------ */
        #bubble-system {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; 
            overflow: hidden;
            z-index: 0; 
        }

        .bubble {
            position: absolute;
            width: 8px; 
            height: 8px;
            border-radius: 50%; 
            background: var(--main-water);
            opacity: 0.3; 
            box-shadow: 0 0 5px var(--main-water);
            transform: translateY(-10vh); 
            animation: fallDown 15s linear infinite;
        }

        @keyframes fallDown {
            0% { 
                transform: translateY(-10vh) translateX(0); 
                opacity: 0; 
            }
            50% {
                transform: translateY(50vh) translateX(5px);
                opacity: 0.5;
            }
            100% { 
                transform: translateY(110vh) translateX(-5px); 
                opacity: 0; 
            }
        }
        
        .bubble:nth-child(2n) { animation-delay: 2s; animation-duration: 12s; width: 6px; height: 6px; }
        .bubble:nth-child(3n) { animation-delay: 4s; animation-duration: 8s; width: 10px; height: 10px; }
        .bubble:nth-child(5n) { animation-delay: 1s; animation-duration: 18s; opacity: 0.1; }


        /* ------------------
         * CONTENEUR PRINCIPAL (Terminal)
         * ------------------ */
        .cypher-terminal {
            width: 90%;
            max-width: 900px;
            background-color: #010A14; 
            border: 2px solid var(--main-water);
            box-shadow: var(--active-shadow) inset, 0 0 20px var(--main-water);
            padding: 30px; 
            box-sizing: border-box;
            border-radius: 10px; 
            opacity: 0; 
            animation: terminalFadeIn 1.5s ease-out forwards;
            position: relative;
            z-index: 10; 
        }
        
        @keyframes terminalFadeIn {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        
        /* ------------------
         * ÉLÉMENTS D'INTERFACE
         * ------------------ */
        h1 { color: var(--accent-sea); text-align: center; font-size: 1.5em; margin-bottom: 20px; text-shadow: 0 0 5px var(--accent-sea); border-bottom: 1px solid var(--border-color); padding-bottom: 8px; font-weight: 700; }
        .label-pro { display: block; margin-bottom: 8px; font-size: 0.9em; color: var(--main-water); font-weight: 700; }
        textarea { width: 100%; padding: 12px; margin-bottom: 5px; border: 1px solid var(--border-color); background-color: #000810; font-family: 'Roboto Mono', monospace; font-size: 0.95em; color: var(--main-water); box-sizing: border-box; resize: none; min-height: 90px; line-height: 1.4; }
        
        #output-result { color: var(--accent-sea); background-color: #000408; letter-spacing: 1px; border: 1px solid var(--accent-sea); }
        
        #french-input::placeholder { color: var(--main-water); opacity: 0.6; }
        #secret-input::placeholder { color: var(--main-water); opacity: 0.6; }
        #output-result::placeholder { color: #ffffff; opacity: 0.9; }

        /* Styles des boutons d'Action (Cryptage/Décryptage) */
        .action-button { width: 100%; padding: 10px; margin-bottom: 25px; font-family: 'Roboto Mono', monospace; font-size: 0.95em; cursor: pointer; border: 2px solid; background: none; transition: background-color 0.3s, color 0.3s, box-shadow 0.3s; font-weight: 700; }
        .button-chiffrement { color: var(--main-water); border-color: var(--main-water); }
        .button-chiffrement:hover { background-color: var(--main-water); color: var(--bg-dark); box-shadow: var(--active-shadow); }
        .button-dechiffrement { color: var(--accent-sea); border-color: var(--accent-sea); }
        .button-dechiffrement:hover { background-color: var(--accent-sea); color: var(--bg-dark); box-shadow: 0 0 15px var(--accent-sea); }

        /* NOUVEAU: BOUTON COPIER */
        .copy-button {
            width: 100%;
            padding: 8px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
            cursor: pointer;
            border: 1px solid var(--main-water);
            background-color: transparent;
            color: var(--main-water);
            margin-top: 10px; 
            transition: background-color 0.2s, color 0.2s;
        }

        .copy-button:hover {
            background-color: var(--main-water);
            color: var(--bg-dark);
            box-shadow: 0 0 8px var(--main-water);
        }
        
    </style>
</head>
<body>

    <div id="bubble-system">
        <div class="bubble" style="left: 5%;"></div>
        <div class="bubble" style="left: 15%; animation-delay: 2s; animation-duration: 12s;"></div>
        <div class="bubble" style="left: 25%; animation-delay: 4s; animation-duration: 8s;"></div>
        <div class="bubble" style="left: 35%; animation-delay: 1s; animation-duration: 15s;"></div>
        <div class="bubble" style="left: 45%; animation-delay: 5s; animation-duration: 10s;"></div>
        <div class="bubble" style="left: 55%; animation-delay: 3s; animation-duration: 7s;"></div>
        <div class="bubble" style="left: 65%; animation-delay: 0.5s; animation-duration: 16s;"></div>
        <div class="bubble" style="left: 75%; animation-delay: 6s; animation-duration: 11s;"></div>
        <div class="bubble" style="left: 85%; animation-delay: 2.5s; animation-duration: 9s;"></div>
        <div class="bubble" style="left: 95%; animation-delay: 4.5s; animation-duration: 14s;"></div>
        <div class="bubble" style="left: 10%; animation-delay: 7s; animation-duration: 13s;"></div>
        <div class="bubble" style="left: 20%; animation-delay: 1.5s; animation-duration: 17s;"></div>
        <div class="bubble" style="left: 50%; animation-delay: 3.5s; animation-duration: 9.5s;"></div>
        <div class="bubble" style="left: 70%; animation-delay: 5.5s; animation-duration: 8.5s;"></div>
        <div class="bubble" style="left: 90%; animation-delay: 0s; animation-duration: 6s;"></div>
    </div>


    <div class="cypher-terminal">
        <h1>■ TIM ALEXI // INTERFACE SÉCURISÉE V5 ■</h1>

        <label for="french-input" class="label-pro">
            [01] MESSAGE CLAIR :
        </label>
        <textarea 
            id="french-input" 
            placeholder="[01] FR"
        ></textarea>
        <button class="action-button button-chiffrement" onclick="translateToSecret()">
            >> CRYPTAGE
        </button>
        
        <hr style="border-color: #00FFFF33; margin: 20px 0; border-style: dashed;">

        <label for="secret-input" class="label-pro" style="color: var(--accent-sea);">
            [02] MESSAGE ENCODÉ :
        </label>
        <textarea 
            id="secret-input" 
            placeholder="[02] SECRET"
        ></textarea>
        <button class="action-button button-dechiffrement" onclick="translateToFrench()">
            >> DÉCRYPTAGE
        </button>

        <label for="output-result" class="label-pro" style="color: var(--accent-sea);">
            [03] SORTIE :
        </label>
        <textarea 
            id="output-result" 
            readonly 
            placeholder="[03] TimAlexi"
        ></textarea>
        
        <button class="copy-button" id="copy-btn" onclick="copyOutputText()">
            COPIER 
        </button>

    </div>

    <script>
        /* * CLÉ DE CHIFFREMENT V3.2 - UNIQUE ET RÉVERSIBLE (Inchangée) */
        const SECRET_KEY = {
            'a': 'φ', 'b': 'τ', 'c': 'λ', 'd': 'δ', 'e': 'ρ', 'f': 'θ', 'g': 'ξ',
            'h': 'ω', 'i': 'ε', 'j': 'η', 'k': 'υ', 'l': 'χ', 'm': 'π', 'n': 'ζ',
            'o': 'σ', 'p': 'ψ', 'q': 'β', 'r': 'γ', 's': 'μ', 't': 'ν', 'u': 'ο',
            'v': 'ι', 'w': 'κ', 'x': '∇', 'y': 'ϵ', 'z': 'ℨ',
            
            'A': '∫', 'B': '∑', 'C': '∏', 'D': '∂', 'E': '≠', 'F': '≈', 'G': '≥',
            'H': '≤', 'I': '⊂', 'J': '⊃', 'K': '∩', 'L': '∪', 'M': '∀', 'N': '∃',
            'O': '∴', 'P': '∵', 'Q': '⊄', 
            'R': 'ℜ', 'S': 'ℑ', 'T': '†', 'U': '‡', 'V': '§', 'W': '©', 'X': '®', 'Y': '™', 'Z': '¢',
            
            '0': 'Ͽ', '1': '∛', '2': '∜', '3': '√', '4': 'ℵ',
            '5': 'ℶ', '6': 'ℷ', '7': '℧', '8': 'ↄ', '9': 'ℸ',
            '.': '░', ',': '▒', '!': '▓', '?': '█', ':': 'Ξ', ';': 'Ø', ' ': '─',
        };

        const DECRYPT_KEY = {};
        for (const frenchChar in SECRET_KEY) {
            const cypherSymbol = SECRET_KEY[frenchChar];
            DECRYPT_KEY[cypherSymbol] = frenchChar;
        }

        // --- FONCTIONS DE CRYPTAGE/DÉCRYPTAGE (Inchangées) ---
        function translateToSecret() {
            const frenchInput = document.getElementById('french-input').value;
            let secretOutput = '';
            for (let i = 0; i < frenchInput.length; i++) {
                const char = frenchInput[i];
                secretOutput += SECRET_KEY[char] || char; 
            }
            document.getElementById('output-result').value = secretOutput;
            triggerProcessing('output-result', '#00FFFF'); 
            document.getElementById('secret-input').value = '';
        }

        function translateToFrench() {
            const secretInput = document.getElementById('secret-input').value;
            let frenchOutput = '';
            for (let i = 0; i < secretInput.length; i++) {
                const symbol = secretInput[i];
                frenchOutput += DECRYPT_KEY[symbol] || symbol; 
            }
            document.getElementById('output-result').value = frenchOutput;
            triggerProcessing('output-result', '#00FF8C'); 
            document.getElementById('french-input').value = '';
        }

        // --- FONCTION D'ANIMATION (Lueur Aquatique) ---
        function triggerProcessing(elementId, color) {
            const element = document.getElementById(elementId);
            element.style.boxShadow = `0 0 15px ${color}`;
            element.style.transition = 'box-shadow 0.15s ease-out';
            
            setTimeout(() => {
                element.style.boxShadow = `0 0 5px ${color}33 inset`; 
            }, 150); 
        }

        // ----------------------------------------------------
        // FONCTION: COPIE DU TEXTE
        // ----------------------------------------------------
        function copyOutputText() {
            const outputArea = document.getElementById('output-result');
            const copyButton = document.getElementById('copy-btn');
            
            // 1. Sélectionner le texte
            outputArea.select();
            outputArea.setSelectionRange(0, 99999); 

            // 2. Copier le texte
            try {
                // Tente d'utiliser l'API moderne pour copier
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(outputArea.value)
                        .then(() => {
                            copyButton.textContent = "COPIÉ !";
                            setTimeout(() => {
                                copyButton.textContent = "COPIER";
                            }, 2000);
                        })
                        .catch(err => {
                            // Fallback si l'API échoue
                            document.execCommand('copy');
                            copyButton.textContent = "COPIÉ !";
                            setTimeout(() => {
                                copyButton.textContent = "COPIER";
                            }, 2000);
                        });
                } else {
                    // Fallback direct
                    document.execCommand('copy');
                    copyButton.textContent = "COPIÉ !";
                    setTimeout(() => {
                        copyButton.textContent = "COPIER";
                    }, 2000);
                }
            } catch (err) {
                console.error('Erreur de copie:', err);
                copyButton.textContent = "ÉCHEC DE COPIE !";
                setTimeout(() => {
                    copyButton.textContent = "COPIER";
                }, 2000);
            }
        }

    </script>

</body>
</html>
